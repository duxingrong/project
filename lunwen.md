# 基于机器人实时点云双向建模在增强现实中的应用

## 成果
提出了一种基于AR的实时3D场景渲染方法，总体的建图过程:ros使用LOAM算法处理点云数据->ros#->unity中使用VFX渲染点云信息->HoloLens2可视化

## 方法
1. 数据采集：使用低分辨率移动LiDAR(Velodyne-16)
2. IMU数据与LOAM算法进行定位与地图构建
3. 点云数据增强: 纹理信息增强
4. 点云数据合并和下采样
5. 机器人与AR坐标系对齐
6. 背景渲染和场景合成


## 结果
实时场景扫描可以通过HoloLens2显示，并能够处理动态物体

## 知识点

- ros中的LOAM点云处理算法
- unity中的VFX点云渲染插件


## 如何实现的空间对齐(环境特征对齐)
利用机器人的IMU数据，可以获得设备在扫描过程中每个位置的姿态信息(旋转角度和速度)

LOLAM算法: 是一种专门用来处理激光雷达点云数据的算法，可以将每一个点云数据转换到一个统一的坐标系中

本文结合上面两点，将所有的点云数据转换到机器人起始位置的坐标系中。

AR方面利用自己的相机设备建立自己的虚拟环境地图


由于他们处在相同的物理环境中，环境中的物理特征(如墙壁，柱子，门)对于两者来说是共享的，在某个时刻，通过标定或者多次扫描，他们可以推测出彼此在环境中的相对位置，从而实现坐标系的对齐。

## 启发
实现AR眼镜建立虚拟地图
实现环境特征对齐






# 三维重现及脑电标记救援系统

## 明确目的
将三维地图重建和脑机接口的目标标记结合起来，从而体现技术融合的独特价值
1. 不可见环境的可视化   : 穿墙成像解决了传统方法无法穿透障碍物的瓶颈 
2. 无接触交互的高效性   : 脑机接口让用户可以在复杂环境中实现快速且无声的目标标记和决策
3. 实时、精确的空间理解 : 结合HoloLens2的增强现实能力，为用户提供一种真正沉浸式的操作体验

## 故事背景
在自然灾害（如地震、火灾等）发生后，建筑物的倒塌和严重破坏常常使得救援人员面临极为复杂和危险的工作环境。救援人员不仅需要在极短的时间内定位受困人员，还必须迅速评估废墟中潜在的危险物品（如易燃物、毒气泄漏等），以避免二次灾难（如爆炸或建筑坍塌）。这些挑战使得传统的搜救方式和技术在灾难救援中常常受到限制，特别是在狭小、无法进入的空间以及不可见的环境中，搜救任务的效率和安全性大大降低。

为了克服这些挑战，我们提出了一种创新的灾害救援系统，结合了三维地图重建和脑机接口目标标记技术，旨在显著提高灾后搜救的效率与精准度。该系统通过遥操作机器人进入人员无法到达的狭小空间，进行三维环境的重建，生成高精度的三维地图模型。该地图模型随后通过增强现实（AR）技术被传输至救援人员佩戴的HoloLens2眼镜中，实现空间对齐与实时可视化。这一过程不仅实现了穿墙成像，突破了传统方法无法穿透障碍物的瓶颈，还通过增强现实技术为救援人员提供了全新的沉浸式操作体验，使他们能够快速理解和判断灾区环境中的重要信息。

在这一系统中，操作员通过脑机接口技术，在复杂环境中实现无接触、无声的目标标记。当操作员通过AR眼镜看到三维地图中的受困人员或危险物品时，他们能够通过脑电波直接标记出这些目标，并将标记信息实时传递给其他救援队员（执行员）。这种实时、精确的空间理解能力，不仅加速了救援决策过程，也有效避免了对灾区的误判，极大提高了搜救行动的效率。

具体而言，当操作员在AR界面中看到三维地图上显示的危急情况（如受困人员或潜在危险物品）时，通过脑机接口可以直接选择需要处理的目标，标记并共享这些信息，从而确保整个救援团队能够高效、精准地协调行动。执行员接收到这些标记信息后，能够迅速定位并采取行动，进行进一步的救援操作。在处理完标记的目标后，操作员可继续通过遥操作机器人进行进一步的探索与搜救。通过信息共享与实时反馈的支持，整个救援团队能够在最短时间内协同工作，确保搜救工作的高效执行。

通过这种多技术融合的创新解决方案，我们旨在为灾难救援任务提供更加智能、精准、高效的技术支持，从而缩短救援时间、减少人员伤亡，并在最短时间内完成对灾害现场的有效清理和救援工作。


## 与传统救援比较的优势
1. 直观：传统方式救援人员通常是通过显示屏或视野中的数据进行判断，这种方式常常受限于操作界面的复杂性以及复杂环境（废墟中的视觉障碍）中的识别难度。而该系统通过三维重建和空间对齐，直观的展现出了复杂环境的真实情况
2. 精确： 传统方式下救援人员往往需要依靠肉眼识别环境中的危险物品或受困人员，并进行手动标记，这一过程需要操作员的额外干预，如手动点击，按键等，增加了操作的复杂性和误操作的风险
3. 迅速：传统方式中，救援人员需要花费较长时间在复杂界面中进行目标标记，信息传递和协调，这种方式不仅降低了决策速度，还容易由于操作繁琐而导致反应迟缓，影响救援时效，而我们的系统采用脑机接口技术，实现了无缝、快速的目标标记与信息共享，显著提升了救援行动的响应速度与效率


## 系统工作流程图的描述：


### 遥操作机器人
输入：操作员通过遥控设备控制机器人（或无人机）进入灾区。
功能：机器人进入无法直接到达的区域，使用激光雷达、相机等设备进行三维建图。
输出：机器人将环境信息传输到处理系统，生成高精度的三维地图模型。


### 三维地图重建与传输
输入：机器人采集到的实时环境数据。
功能：利用收集的数据，系统生成详细的三维地图。
输出：地图通过 无线网络 或 有线传输 传输到救援人员佩戴的 HoloLens2 AR眼镜。

### 增强现实（AR）显示与空间对齐
输入：接收到的三维地图数据。
功能：HoloLens2 将三维地图与现实世界环境实时对齐，实现 穿墙成像 和 空间可视化。
输出：操作员看到的增强现实视图，显示在眼镜中，帮助他们直观地理解复杂环境。

### 脑机接口目标标记（操作员）
输入：操作员通过 脑电波控制（脑机接口）来标记关键目标（如受困人员、危险物品等）。
功能：操作员无需手动操作，通过思维直接进行目标标记。
输出：目标位置实时显示在 AR 显示界面上，并标记清楚（例如，使用高亮、图标等）。

### 目标信息共享（执行员）
输入：操作员标记的目标信息。
功能：标记的目标信息通过系统实时共享给其他救援人员。
输出：执行员看到目标标记，并根据标记信息快速做出行动决策。

### 救援行动与实时反馈
输入：标记的目标和信息。
功能：执行员基于标记信息采取进一步行动（如解救、清理等）。
输出：通过系统反馈，实时更新任务进度并共享状态。